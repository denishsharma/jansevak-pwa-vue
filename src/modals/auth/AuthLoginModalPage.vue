<template>
    <ModalPage id="auth-login" ref="refModalPage">
        <AppContainerBase>
            <template #header>
                <div class="flex items-center">
                    <svg fill="none" height="22" viewBox="0 0 55 22" width="55" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" d="M22.1741 17.9925H22.6187V19.7429H24.8926V17.9925H25.3376V21.9324H24.8926V20.1595H22.6187V21.9324H22.1741V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M28.7135 22C28.4135 22 28.1405 21.9454 27.8946 21.8367C27.6489 21.7279 27.4378 21.5807 27.2614 21.3948C27.085 21.2092 26.949 20.9933 26.8533 20.7475C26.7577 20.5016 26.7097 20.2437 26.7097 19.9738V19.9624C26.7097 19.6922 26.7584 19.4332 26.8561 19.1857C26.9538 18.9379 27.0906 18.7213 27.267 18.5354C27.4436 18.3498 27.6555 18.2016 27.9029 18.0908C28.1509 17.9803 28.425 17.9248 28.7246 17.9248C29.0251 17.9248 29.2982 17.9793 29.5438 18.0881C29.7895 18.1969 30.0006 18.3441 30.177 18.5299C30.3534 18.7155 30.4896 18.9314 30.5851 19.1773C30.6807 19.4231 30.7287 19.6809 30.7287 19.9509C30.7328 19.9549 30.7327 19.9586 30.7287 19.9624C30.7287 20.2325 30.68 20.4915 30.5825 20.7391C30.4849 20.9869 30.3478 21.2035 30.1717 21.3894C29.995 21.575 29.7829 21.7232 29.5355 21.834C29.2877 21.9444 29.0137 22 28.7135 22ZM28.7246 21.5891C28.95 21.5891 29.1576 21.547 29.3469 21.4625C29.5365 21.3779 29.6986 21.2625 29.8339 21.1163C29.9689 20.9701 30.075 20.7991 30.1516 20.604C30.2285 20.409 30.2673 20.1988 30.2673 19.9738V19.9624C30.2673 19.7374 30.2285 19.5262 30.1516 19.3292C30.075 19.1322 29.967 18.9604 29.8281 18.8142C29.6892 18.6677 29.5253 18.5515 29.3355 18.4653C29.1462 18.3788 28.9388 18.3357 28.7135 18.3357C28.4884 18.3357 28.2811 18.3778 28.0918 18.4623C27.9019 18.5468 27.74 18.6623 27.6046 18.8085C27.4697 18.9548 27.3637 19.1255 27.2868 19.3208C27.2099 19.5158 27.1714 19.726 27.1714 19.9509V19.9624C27.1714 20.1874 27.2099 20.3986 27.2868 20.5956C27.3637 20.7926 27.4716 20.9643 27.6106 21.1105C27.7495 21.257 27.9134 21.3733 28.1029 21.4595C28.2925 21.546 28.4999 21.5891 28.7246 21.5891Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M33.4518 21.9888C33.1365 21.9888 32.8486 21.9371 32.5879 21.834C32.327 21.7309 32.0786 21.5722 31.8423 21.3582L32.1179 21.0318C32.3242 21.2194 32.5326 21.3591 32.7427 21.4511C32.9532 21.543 33.1948 21.5891 33.4688 21.5891C33.7352 21.5891 33.9481 21.5261 34.1074 21.4006C34.2671 21.2749 34.3468 21.1145 34.3468 20.9193V20.9081C34.3468 20.8179 34.3318 20.7364 34.3016 20.6632C34.272 20.5899 34.2194 20.5234 34.1443 20.4632C34.0692 20.4033 33.9651 20.3487 33.8317 20.3001C33.6986 20.2514 33.5289 20.2046 33.3223 20.1594C33.0972 20.1106 32.901 20.0544 32.7343 19.9906C32.5671 19.9268 32.4292 19.8499 32.3205 19.7597C32.2115 19.6697 32.1309 19.5646 32.0786 19.4447C32.0258 19.3245 31.9996 19.1837 31.9996 19.0224V19.0112C31.9996 18.8573 32.0317 18.7147 32.0954 18.5833C32.1593 18.4522 32.2491 18.3386 32.3657 18.2427C32.4819 18.1471 32.6188 18.072 32.7764 18.0178C32.9341 17.9632 33.1066 17.9362 33.2941 17.9362C33.5831 17.9362 33.8356 17.9764 34.0514 18.0571C34.2671 18.1377 34.4762 18.2589 34.6787 18.4202L34.4202 18.7634C34.2362 18.6133 34.0514 18.5047 33.8654 18.437C33.6799 18.3693 33.4857 18.3357 33.283 18.3357C33.0241 18.3357 32.8196 18.3967 32.6693 18.5186C32.5194 18.6406 32.4445 18.7917 32.4445 18.9719V18.983C32.4445 19.0767 32.4592 19.1604 32.4892 19.2336C32.5194 19.3067 32.5738 19.3741 32.6527 19.436C32.7313 19.4981 32.8402 19.5543 32.979 19.605C33.118 19.6556 33.2959 19.7035 33.5139 19.7486C33.9528 19.8462 34.2763 19.9813 34.4848 20.1537C34.693 20.3265 34.797 20.5629 34.797 20.863V20.8744C34.797 21.0429 34.7632 21.1961 34.6957 21.3332C34.6283 21.4699 34.5353 21.5871 34.4171 21.6848C34.2988 21.7825 34.1575 21.8573 33.992 21.9098C33.8274 21.9623 33.6468 21.9888 33.4518 21.9888Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M36.136 17.9925H37.6107C37.8319 17.9925 38.0337 18.0215 38.2156 18.0797C38.3979 18.1377 38.5534 18.2204 38.6829 18.3273C38.8122 18.4343 38.9117 18.5647 38.9811 18.7183C39.0506 18.8725 39.0853 19.047 39.0853 19.242V19.2532C39.0853 19.467 39.044 19.6539 38.9612 19.8132C38.879 19.9728 38.7673 20.1069 38.6265 20.2158C38.4859 20.3245 38.3217 20.406 38.1342 20.4605C37.9462 20.515 37.7474 20.5423 37.5373 20.5423H36.5806V21.9324H36.136V17.9925ZM37.554 20.1369C37.7158 20.1369 37.8628 20.1163 37.9964 20.075C38.1294 20.0338 38.2438 19.9745 38.3396 19.8978C38.4352 19.8206 38.5083 19.7297 38.559 19.6247C38.6098 19.5195 38.6349 19.4014 38.6349 19.27V19.2588C38.6349 18.9776 38.5385 18.7644 38.3453 18.62C38.152 18.4755 37.8957 18.4031 37.577 18.4031H36.5806V20.1369H37.554Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M40.3677 17.9925H40.8123V21.9324H40.3677V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M43.44 18.4031H42.1174V17.9925H45.2129V18.4031H43.8903V21.9324H43.44V18.4031Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M47.9364 17.9642H48.3528L50.1482 21.9323H49.6698L49.2082 20.8912H47.0638L46.5967 21.9323H46.1406L47.9364 17.9642ZM49.0339 20.4915L48.1388 18.4821L47.2383 20.4915H49.0339Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M51.3577 17.9925H51.8025V21.5217H54.0202V21.9324H51.3577V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M52.3899 14.4862C52.3019 14.5933 52.2137 14.7003 52.1251 14.8071C51.7241 15.2919 51.2448 15.6817 50.6987 15.9922C50.0796 16.3446 49.4187 16.5803 48.718 16.7072C48.1245 16.8148 47.5283 16.8279 46.9279 16.7855C46.2661 16.7387 45.6294 16.5915 45.0165 16.3444C44.4027 16.0968 43.8437 15.7568 43.3431 15.3199C42.6286 14.6957 42.0459 13.9715 41.6428 13.1081C41.3571 12.4962 41.1733 11.8541 41.0953 11.184C41.0581 10.8672 41.0102 10.5465 41.0231 10.23C41.0433 9.7441 41.0889 9.25657 41.1655 8.77638C41.3013 7.92773 41.629 7.1472 42.1083 6.43489C42.5633 5.75905 43.1211 5.18087 43.7823 4.69987C44.6087 4.09884 45.5339 3.74447 46.5353 3.59479C46.9764 3.5289 47.4291 3.49839 47.8745 3.5118C49.2185 3.5522 50.4412 3.95811 51.4745 4.8399C51.7659 5.08868 52.0087 5.39457 52.2736 5.67459C52.3144 5.71744 52.3548 5.76129 52.4251 5.83689C52.4341 5.74543 52.4424 5.69639 52.4426 5.64755C52.4435 5.07803 52.4457 4.50827 52.4414 3.93877C52.4407 3.83128 52.4694 3.78988 52.583 3.79132C53.0056 3.79677 53.4284 3.79608 53.8506 3.79132C53.9588 3.79039 53.9989 3.82062 53.9973 3.93461C53.992 4.37494 53.995 4.8154 53.995 5.25596C53.995 8.93095 53.995 12.6065 53.995 16.2817C53.995 16.4844 53.995 16.4844 53.7897 16.4844C53.4027 16.4844 53.0155 16.4844 52.6287 16.4844C52.4435 16.4844 52.4435 16.4842 52.4435 16.3053C52.4435 15.7581 52.4435 15.2106 52.4435 14.6634V14.509C52.4255 14.5014 52.4078 14.4939 52.39 14.4862L52.3899 14.4862ZM42.6622 10.2442C42.6752 10.4657 42.6815 10.6877 42.7021 10.9086C42.7526 11.4565 42.8932 11.9815 43.1265 12.4803C43.4396 13.1504 43.8875 13.7157 44.4461 14.2C44.982 14.6647 45.5857 15.0014 46.2694 15.1829C46.7945 15.3221 47.3287 15.3762 47.8763 15.339C48.4562 15.2998 49.0063 15.1697 49.526 14.9135C50.2066 14.5786 50.7687 14.0984 51.2479 13.5135C52.029 12.5601 52.4093 11.461 52.4393 10.238C52.4472 9.91555 52.4221 9.58997 52.3853 9.26878C52.3231 8.72623 52.1506 8.2118 51.8976 7.7298C51.5578 7.08123 51.092 6.53128 50.535 6.05652C49.8035 5.43266 48.9633 5.05693 48.0049 4.98639C47.0667 4.91694 46.1661 5.07184 45.3319 5.53754C44.443 6.03392 43.763 6.73601 43.2825 7.62816C42.8435 8.44274 42.6549 9.32027 42.6622 10.2442Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M30.0003 5.20475C30.0367 5.17626 30.0783 5.15196 30.1095 5.1187C30.4948 4.70558 30.931 4.35812 31.4329 4.09868C31.9139 3.85085 32.425 3.68105 32.9611 3.61541C33.374 3.56487 33.7932 3.52516 34.2079 3.53812C35.3076 3.57182 36.3404 3.84119 37.2364 4.51604C37.9869 5.08105 38.4682 5.82875 38.7268 6.7276C38.8713 7.2294 38.9421 7.74166 38.9654 8.26142C38.9873 8.74916 39.013 9.23756 39.0143 9.72578C39.02 11.919 39.0169 14.1128 39.0169 16.3062C39.0169 16.4844 39.0167 16.4844 38.8441 16.4844C38.4525 16.4844 38.0609 16.4844 37.6696 16.4844C37.4641 16.4844 37.4641 16.4844 37.4641 16.2852C37.4641 13.9447 37.4641 11.6042 37.4641 9.26385C37.4641 8.55952 37.3948 7.8641 37.1901 7.18736C36.8601 6.09759 36.1452 5.41109 35.0284 5.172C34.6975 5.10116 34.3524 5.08725 34.0133 5.05746C33.5271 5.01491 33.0449 5.06226 32.5785 5.19904C31.2302 5.59476 30.3986 6.4892 30.1067 7.86135C30.0263 8.24002 29.9982 8.63612 29.9951 9.02442C29.977 11.4442 29.9728 13.864 29.9638 16.2839C29.9634 16.4844 29.9638 16.4844 29.7698 16.4844C29.3784 16.4844 28.9866 16.4793 28.5953 16.4875C28.4635 16.4904 28.4313 16.4468 28.4316 16.3204C28.4354 14.5184 28.4337 12.7163 28.4337 10.9144C28.4337 8.60956 28.4337 6.30476 28.4337 4.00004C28.4337 3.79335 28.434 3.79335 28.647 3.79335C29.0385 3.79335 29.4301 3.79661 29.8217 3.79127C29.9313 3.78988 29.9679 3.82428 29.9664 3.93602C29.9606 4.30524 29.9638 4.67456 29.9638 5.0438C29.9638 5.09183 29.9638 5.13999 29.9638 5.18804C29.9763 5.19372 29.9882 5.19948 30.0003 5.20468L30.0003 5.20475Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M4.01124 5.72393V5.92346C4.01124 9.48737 4.01124 13.0511 4.01124 16.615C4.01124 16.8081 4.01124 16.8081 3.81315 16.8081C3.40853 16.8081 3.00305 16.8021 2.59859 16.8113C2.45978 16.8145 2.42904 16.7696 2.42904 16.6371C2.4326 13.091 2.43175 9.54492 2.43175 5.99875C2.43175 5.95886 2.42735 5.91821 2.43267 5.87876C2.44878 5.75939 2.40644 5.71942 2.27974 5.72072C1.58134 5.72712 0.88299 5.72393 0.184131 5.72393C0.002448 5.72393 0.00230993 5.7237 0.00230993 5.53804C0.00230993 5.11528 0.00575488 4.6927 0 4.26994V4.25403C0.00184896 4.1498 0.0404909 4.1161 0.152145 4.1168C0.850842 4.12149 1.54919 4.1191 2.24775 4.1191C2.43147 4.1191 2.43147 4.11887 2.43147 3.94061C2.43163 2.68591 2.43163 1.43116 2.43163 0.176436C2.43163 0.00295769 2.43186 0.00274792 2.60936 0.00244746C3.02774 0.00223946 3.44601 0.00640201 3.86413 0H3.87772C3.98607 0.00161784 4.01351 0.0431026 4.01311 0.153647C4.00958 1.41281 4.01103 2.67206 4.01103 3.93123C4.01103 4.1191 4.01122 4.1191 4.20101 4.1191C4.8952 4.1191 5.58907 4.12181 6.28301 4.11656C6.40596 4.11564 6.44435 4.151 6.44234 4.2752C6.43566 4.70636 6.43566 5.13834 6.44234 5.56961C6.44465 5.6974 6.39824 5.727 6.27931 5.72619C5.58512 5.72155 4.89121 5.72412 4.1969 5.72412L4.01124 5.72393Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M20.2261 12.9012C20.4021 13.0062 20.5803 13.1121 20.779 13.23C20.6486 13.4372 20.5322 13.6404 20.3986 13.8311C19.5801 14.9987 18.5293 15.8941 17.2351 16.4978C16.5053 16.8384 15.739 17.0542 14.9398 17.1606C13.6209 17.3362 12.3421 17.1754 11.104 16.7001C9.90792 16.2406 8.88945 15.5217 8.03985 14.5608C7.17151 13.5785 6.58929 12.4476 6.28502 11.1756C6.07013 10.277 6.0258 9.36625 6.13464 8.44778C6.31133 6.95733 6.87064 5.62731 7.81243 4.46106C9.04647 2.93246 10.6366 1.97782 12.5681 1.64325C14.6716 1.27847 16.6321 1.69585 18.3896 2.9193C20.2276 4.19913 21.3282 5.96139 21.6885 8.17593C21.7386 8.4817 21.7525 8.7937 21.7817 9.10303C21.7891 9.17988 21.6712 9.30332 21.585 9.30951C21.5319 9.31346 21.4783 9.31089 21.4248 9.31089C16.5749 9.31089 11.7248 9.31089 6.87489 9.31089C6.65875 9.31089 6.65385 9.31112 6.66094 9.53101C6.70095 10.785 7.01786 11.9609 7.65702 13.0449C8.39496 14.2964 9.416 15.2478 10.7151 15.8944C11.8447 16.4565 13.0474 16.7018 14.3054 16.6319C15.8828 16.5444 17.293 16.0039 18.5249 15.0069C19.1598 14.493 19.6904 13.8875 20.1168 13.1913C20.1679 13.1084 20.1874 13.0063 20.2261 12.9012V12.9012ZM21.1592 8.8904C21.1324 7.02006 20.0078 4.54304 17.6837 3.14555C15.1217 1.60435 11.7379 1.75035 9.31565 3.76271C7.71667 5.0915 6.85004 6.80743 6.67486 8.8904H21.1592Z" fill="#F07C00" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M23.9567 5.25598C24.0227 5.19855 24.0615 5.17398 24.0883 5.13975C24.4151 4.72663 24.7693 4.3438 25.227 4.06946C25.6259 3.83053 26.0591 3.69646 26.5175 3.63801C26.623 3.62431 26.7293 3.61986 26.8354 3.60951C26.9141 3.60181 26.9478 3.63151 26.9475 3.71451C26.9454 4.2171 26.9454 4.71997 26.9482 5.22258C26.9487 5.31053 26.9033 5.31894 26.8322 5.32788C26.4044 5.37988 25.9852 5.46642 25.5844 5.63671C24.9886 5.89038 24.5781 6.31597 24.3519 6.92261C24.1826 7.37639 24.0949 7.84725 24.0924 8.32851C24.0795 10.9793 24.0746 13.63 24.0671 16.2808C24.0667 16.4844 24.0671 16.4844 23.8662 16.4844C23.4567 16.4844 23.0473 16.4844 22.6381 16.4844C22.4587 16.4844 22.4585 16.4842 22.4585 16.3099C22.4583 15.6648 22.4583 15.0195 22.4583 14.3747C22.4583 10.9088 22.4583 7.44327 22.4583 3.97773C22.4583 3.79355 22.4585 3.79334 22.6392 3.79334C23.0308 3.79334 23.4223 3.7966 23.8134 3.79126C23.9229 3.79011 23.9606 3.82302 23.9587 3.93551C23.9529 4.31343 23.9566 4.69161 23.9566 5.06984C23.9566 5.11717 23.9566 5.16453 23.9566 5.25591L23.9567 5.25598Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M14.0209 6.94691C14.0184 6.89757 14.0144 6.85841 14.0144 6.81901C14.0142 5.538 14.0154 4.25675 14.0117 2.97597C14.0113 2.8474 14.0367 2.7981 14.1797 2.804C15.7061 2.86524 17.0901 3.32325 18.299 4.27063C19.1353 4.92609 19.7567 5.74169 20.1201 6.7474C20.2973 7.23657 20.3731 7.74314 20.4077 8.25886C20.4145 8.36124 20.3847 8.39864 20.2749 8.39864C18.767 8.39702 17.2589 8.39864 15.7512 8.40259C15.6572 8.40283 15.626 8.37911 15.6124 8.28017C15.5197 7.61032 14.964 7.08294 14.2588 6.9831C14.1839 6.97245 14.1096 6.96029 14.0209 6.94691Z" fill="#F07C00" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M9.85859 8.40661C9.11589 8.40642 8.37288 8.40367 7.6299 8.4091C7.50131 8.4098 7.46091 8.37122 7.46486 8.24263C7.50054 7.11469 7.88268 6.11598 8.58803 5.2412C9.67894 3.88878 11.1213 3.15818 12.8154 2.88881C13.1081 2.8427 13.4072 2.83582 13.7027 2.80526C13.8154 2.79392 13.8479 2.83681 13.8471 2.94585C13.8433 3.5463 13.8459 4.14682 13.8459 4.74701C13.8461 5.43203 13.8445 6.11727 13.8482 6.80197C13.8487 6.90756 13.8292 6.95492 13.7092 6.96946C13.2274 7.02747 12.8155 7.2245 12.5152 7.62006C12.3809 7.79675 12.2954 7.99399 12.2619 8.21413C12.2254 8.45121 12.2415 8.40485 12.0336 8.40592C11.3087 8.40841 10.5837 8.40684 9.8587 8.40661H9.85859Z" fill="#F07C00" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M22.1741 17.9925H22.6187V19.7429H24.8926V17.9925H25.3376V21.9324H24.8926V20.1595H22.6187V21.9324H22.1741V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M28.7135 22C28.4135 22 28.1405 21.9454 27.8946 21.8367C27.6489 21.7279 27.4378 21.5807 27.2614 21.3948C27.085 21.2092 26.949 20.9933 26.8533 20.7475C26.7577 20.5016 26.7097 20.2437 26.7097 19.9738V19.9624C26.7097 19.6922 26.7584 19.4332 26.8561 19.1857C26.9538 18.9379 27.0906 18.7213 27.267 18.5354C27.4436 18.3498 27.6555 18.2016 27.9029 18.0908C28.1509 17.9803 28.425 17.9248 28.7246 17.9248C29.0251 17.9248 29.2982 17.9793 29.5438 18.0881C29.7895 18.1969 30.0006 18.3441 30.177 18.5299C30.3534 18.7155 30.4896 18.9314 30.5851 19.1773C30.6807 19.4231 30.7287 19.6809 30.7287 19.9509C30.7328 19.9549 30.7327 19.9586 30.7287 19.9624C30.7287 20.2325 30.68 20.4915 30.5825 20.7391C30.4849 20.9869 30.3478 21.2035 30.1717 21.3894C29.995 21.575 29.7829 21.7232 29.5355 21.834C29.2877 21.9444 29.0137 22 28.7135 22ZM28.7246 21.5891C28.95 21.5891 29.1576 21.547 29.3469 21.4625C29.5365 21.3779 29.6986 21.2625 29.8339 21.1163C29.9689 20.9701 30.075 20.7991 30.1516 20.604C30.2285 20.409 30.2673 20.1988 30.2673 19.9738V19.9624C30.2673 19.7374 30.2285 19.5262 30.1516 19.3292C30.075 19.1322 29.967 18.9604 29.8281 18.8142C29.6892 18.6677 29.5253 18.5515 29.3355 18.4653C29.1462 18.3788 28.9388 18.3357 28.7135 18.3357C28.4884 18.3357 28.2811 18.3778 28.0918 18.4623C27.9019 18.5468 27.74 18.6623 27.6046 18.8085C27.4697 18.9548 27.3637 19.1255 27.2868 19.3208C27.2099 19.5158 27.1714 19.726 27.1714 19.9509V19.9624C27.1714 20.1874 27.2099 20.3986 27.2868 20.5956C27.3637 20.7926 27.4716 20.9643 27.6106 21.1105C27.7495 21.257 27.9134 21.3733 28.1029 21.4595C28.2925 21.546 28.4999 21.5891 28.7246 21.5891Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M33.4518 21.9888C33.1365 21.9888 32.8486 21.9371 32.5879 21.834C32.327 21.7309 32.0786 21.5722 31.8423 21.3582L32.1179 21.0318C32.3242 21.2194 32.5326 21.3591 32.7427 21.4511C32.9532 21.543 33.1948 21.5891 33.4688 21.5891C33.7352 21.5891 33.9481 21.5261 34.1074 21.4006C34.2671 21.2749 34.3468 21.1145 34.3468 20.9193V20.9081C34.3468 20.8179 34.3318 20.7364 34.3016 20.6632C34.272 20.5899 34.2194 20.5234 34.1443 20.4632C34.0692 20.4033 33.9651 20.3487 33.8317 20.3001C33.6986 20.2514 33.5289 20.2046 33.3223 20.1594C33.0972 20.1106 32.901 20.0544 32.7343 19.9906C32.5671 19.9268 32.4292 19.8499 32.3205 19.7597C32.2115 19.6697 32.1309 19.5646 32.0786 19.4447C32.0258 19.3245 31.9996 19.1837 31.9996 19.0224V19.0112C31.9996 18.8573 32.0317 18.7147 32.0954 18.5833C32.1593 18.4522 32.2491 18.3386 32.3657 18.2427C32.4819 18.1471 32.6188 18.072 32.7764 18.0178C32.9341 17.9632 33.1066 17.9362 33.2941 17.9362C33.5831 17.9362 33.8356 17.9764 34.0514 18.0571C34.2671 18.1377 34.4762 18.2589 34.6787 18.4202L34.4202 18.7634C34.2362 18.6133 34.0514 18.5047 33.8654 18.437C33.6799 18.3693 33.4857 18.3357 33.283 18.3357C33.0241 18.3357 32.8196 18.3967 32.6693 18.5186C32.5194 18.6406 32.4445 18.7917 32.4445 18.9719V18.983C32.4445 19.0767 32.4592 19.1604 32.4892 19.2336C32.5194 19.3067 32.5738 19.3741 32.6527 19.436C32.7313 19.4981 32.8402 19.5543 32.979 19.605C33.118 19.6556 33.2959 19.7035 33.5139 19.7486C33.9528 19.8462 34.2763 19.9813 34.4848 20.1537C34.693 20.3265 34.797 20.5629 34.797 20.863V20.8744C34.797 21.0429 34.7632 21.1961 34.6957 21.3332C34.6283 21.4699 34.5353 21.5871 34.4171 21.6848C34.2988 21.7825 34.1575 21.8573 33.992 21.9098C33.8274 21.9623 33.6468 21.9888 33.4518 21.9888Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M36.136 17.9925H37.6107C37.8319 17.9925 38.0337 18.0215 38.2156 18.0797C38.3979 18.1377 38.5534 18.2204 38.6829 18.3273C38.8122 18.4343 38.9117 18.5647 38.9811 18.7183C39.0506 18.8725 39.0853 19.047 39.0853 19.242V19.2532C39.0853 19.467 39.044 19.6539 38.9612 19.8132C38.879 19.9728 38.7673 20.1069 38.6265 20.2158C38.4859 20.3245 38.3217 20.406 38.1342 20.4605C37.9462 20.515 37.7474 20.5423 37.5373 20.5423H36.5806V21.9324H36.136V17.9925ZM37.554 20.1369C37.7158 20.1369 37.8628 20.1163 37.9964 20.075C38.1294 20.0338 38.2438 19.9745 38.3396 19.8978C38.4352 19.8206 38.5083 19.7297 38.559 19.6247C38.6098 19.5195 38.6349 19.4014 38.6349 19.27V19.2588C38.6349 18.9776 38.5385 18.7644 38.3453 18.62C38.152 18.4755 37.8957 18.4031 37.577 18.4031H36.5806V20.1369H37.554Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M40.3677 17.9925H40.8123V21.9324H40.3677V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M43.44 18.4031H42.1174V17.9925H45.2129V18.4031H43.8903V21.9324H43.44V18.4031Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M47.9364 17.9642H48.3528L50.1482 21.9323H49.6698L49.2082 20.8912H47.0638L46.5967 21.9323H46.1406L47.9364 17.9642ZM49.0339 20.4915L48.1388 18.4821L47.2383 20.4915H49.0339Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M51.3577 17.9925H51.8025V21.5217H54.0202V21.9324H51.3577V17.9925Z" fill="#1B1918" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M52.3899 14.4862C52.3019 14.5933 52.2137 14.7003 52.1251 14.8071C51.7241 15.2919 51.2448 15.6817 50.6987 15.9922C50.0796 16.3446 49.4187 16.5803 48.718 16.7072C48.1245 16.8148 47.5283 16.8279 46.9279 16.7855C46.2661 16.7387 45.6294 16.5915 45.0165 16.3444C44.4027 16.0968 43.8437 15.7568 43.3431 15.3199C42.6286 14.6957 42.0459 13.9715 41.6428 13.1081C41.3571 12.4962 41.1733 11.8541 41.0953 11.184C41.0581 10.8672 41.0102 10.5465 41.0231 10.23C41.0433 9.7441 41.0889 9.25657 41.1655 8.77638C41.3013 7.92773 41.629 7.1472 42.1083 6.43489C42.5633 5.75905 43.1211 5.18087 43.7823 4.69987C44.6087 4.09884 45.5339 3.74447 46.5353 3.59479C46.9764 3.5289 47.4291 3.49839 47.8745 3.5118C49.2185 3.5522 50.4412 3.95811 51.4745 4.8399C51.7659 5.08868 52.0087 5.39457 52.2736 5.67459C52.3144 5.71744 52.3548 5.76129 52.4251 5.83689C52.4341 5.74543 52.4424 5.69639 52.4426 5.64755C52.4435 5.07803 52.4457 4.50827 52.4414 3.93877C52.4407 3.83128 52.4694 3.78988 52.583 3.79132C53.0056 3.79677 53.4284 3.79608 53.8506 3.79132C53.9588 3.79039 53.9989 3.82062 53.9973 3.93461C53.992 4.37494 53.995 4.8154 53.995 5.25596C53.995 8.93095 53.995 12.6065 53.995 16.2817C53.995 16.4844 53.995 16.4844 53.7897 16.4844C53.4027 16.4844 53.0155 16.4844 52.6287 16.4844C52.4435 16.4844 52.4435 16.4842 52.4435 16.3053C52.4435 15.7581 52.4435 15.2106 52.4435 14.6634V14.509C52.4255 14.5014 52.4078 14.4939 52.39 14.4862L52.3899 14.4862ZM42.6622 10.2442C42.6752 10.4657 42.6815 10.6877 42.7021 10.9086C42.7526 11.4565 42.8932 11.9815 43.1265 12.4803C43.4396 13.1504 43.8875 13.7157 44.4461 14.2C44.982 14.6647 45.5857 15.0014 46.2694 15.1829C46.7945 15.3221 47.3287 15.3762 47.8763 15.339C48.4562 15.2998 49.0063 15.1697 49.526 14.9135C50.2066 14.5786 50.7687 14.0984 51.2479 13.5135C52.029 12.5601 52.4093 11.461 52.4393 10.238C52.4472 9.91555 52.4221 9.58997 52.3853 9.26878C52.3231 8.72623 52.1506 8.2118 51.8976 7.7298C51.5578 7.08123 51.092 6.53128 50.535 6.05652C49.8035 5.43266 48.9633 5.05693 48.0049 4.98639C47.0667 4.91694 46.1661 5.07184 45.3319 5.53754C44.443 6.03392 43.763 6.73601 43.2825 7.62816C42.8435 8.44274 42.6549 9.32027 42.6622 10.2442Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M30.0003 5.20475C30.0367 5.17626 30.0783 5.15196 30.1095 5.1187C30.4948 4.70558 30.931 4.35812 31.4329 4.09868C31.9139 3.85085 32.425 3.68105 32.9611 3.61541C33.374 3.56487 33.7932 3.52516 34.2079 3.53812C35.3076 3.57182 36.3404 3.84119 37.2364 4.51604C37.9869 5.08105 38.4682 5.82875 38.7268 6.7276C38.8713 7.2294 38.9421 7.74166 38.9654 8.26142C38.9873 8.74916 39.013 9.23756 39.0143 9.72578C39.02 11.919 39.0169 14.1128 39.0169 16.3062C39.0169 16.4844 39.0167 16.4844 38.8441 16.4844C38.4525 16.4844 38.0609 16.4844 37.6696 16.4844C37.4641 16.4844 37.4641 16.4844 37.4641 16.2852C37.4641 13.9447 37.4641 11.6042 37.4641 9.26385C37.4641 8.55952 37.3948 7.8641 37.1901 7.18736C36.8601 6.09759 36.1452 5.41109 35.0284 5.172C34.6975 5.10116 34.3524 5.08725 34.0133 5.05746C33.5271 5.01491 33.0449 5.06226 32.5785 5.19904C31.2302 5.59476 30.3986 6.4892 30.1067 7.86135C30.0263 8.24002 29.9982 8.63612 29.9951 9.02442C29.977 11.4442 29.9728 13.864 29.9638 16.2839C29.9634 16.4844 29.9638 16.4844 29.7698 16.4844C29.3784 16.4844 28.9866 16.4793 28.5953 16.4875C28.4635 16.4904 28.4313 16.4468 28.4316 16.3204C28.4354 14.5184 28.4337 12.7163 28.4337 10.9144C28.4337 8.60956 28.4337 6.30476 28.4337 4.00004C28.4337 3.79335 28.434 3.79335 28.647 3.79335C29.0385 3.79335 29.4301 3.79661 29.8217 3.79127C29.9313 3.78988 29.9679 3.82428 29.9664 3.93602C29.9606 4.30524 29.9638 4.67456 29.9638 5.0438C29.9638 5.09183 29.9638 5.13999 29.9638 5.18804C29.9763 5.19372 29.9882 5.19948 30.0003 5.20468L30.0003 5.20475Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M4.01124 5.72393V5.92346C4.01124 9.48737 4.01124 13.0511 4.01124 16.615C4.01124 16.8081 4.01124 16.8081 3.81315 16.8081C3.40853 16.8081 3.00305 16.8021 2.59859 16.8113C2.45978 16.8145 2.42904 16.7696 2.42904 16.6371C2.4326 13.091 2.43175 9.54492 2.43175 5.99875C2.43175 5.95886 2.42735 5.91821 2.43267 5.87876C2.44878 5.75939 2.40644 5.71942 2.27974 5.72072C1.58134 5.72712 0.88299 5.72393 0.184131 5.72393C0.002448 5.72393 0.00230993 5.7237 0.00230993 5.53804C0.00230993 5.11528 0.00575488 4.6927 0 4.26994V4.25403C0.00184896 4.1498 0.0404909 4.1161 0.152145 4.1168C0.850842 4.12149 1.54919 4.1191 2.24775 4.1191C2.43147 4.1191 2.43147 4.11887 2.43147 3.94061C2.43163 2.68591 2.43163 1.43116 2.43163 0.176436C2.43163 0.00295769 2.43186 0.00274792 2.60936 0.00244746C3.02774 0.00223946 3.44601 0.00640201 3.86413 0H3.87772C3.98607 0.00161784 4.01351 0.0431026 4.01311 0.153647C4.00958 1.41281 4.01103 2.67206 4.01103 3.93123C4.01103 4.1191 4.01122 4.1191 4.20101 4.1191C4.8952 4.1191 5.58907 4.12181 6.28301 4.11656C6.40596 4.11564 6.44435 4.151 6.44234 4.2752C6.43566 4.70636 6.43566 5.13834 6.44234 5.56961C6.44465 5.6974 6.39824 5.727 6.27931 5.72619C5.58512 5.72155 4.89121 5.72412 4.1969 5.72412L4.01124 5.72393Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M20.2261 12.9012C20.4021 13.0062 20.5803 13.1121 20.779 13.23C20.6486 13.4372 20.5322 13.6404 20.3986 13.8311C19.5801 14.9987 18.5293 15.8941 17.2351 16.4978C16.5053 16.8384 15.739 17.0542 14.9398 17.1606C13.6209 17.3362 12.3421 17.1754 11.104 16.7001C9.90792 16.2406 8.88945 15.5217 8.03985 14.5608C7.17151 13.5785 6.58929 12.4476 6.28502 11.1756C6.07013 10.277 6.0258 9.36625 6.13464 8.44778C6.31133 6.95733 6.87064 5.62731 7.81243 4.46106C9.04647 2.93246 10.6366 1.97782 12.5681 1.64325C14.6716 1.27847 16.6321 1.69585 18.3896 2.9193C20.2276 4.19913 21.3282 5.96139 21.6885 8.17593C21.7386 8.4817 21.7525 8.7937 21.7817 9.10303C21.7891 9.17988 21.6712 9.30332 21.585 9.30951C21.5319 9.31346 21.4783 9.31089 21.4248 9.31089C16.5749 9.31089 11.7248 9.31089 6.87489 9.31089C6.65875 9.31089 6.65385 9.31112 6.66094 9.53101C6.70095 10.785 7.01786 11.9609 7.65702 13.0449C8.39496 14.2964 9.416 15.2478 10.7151 15.8944C11.8447 16.4565 13.0474 16.7018 14.3054 16.6319C15.8828 16.5444 17.293 16.0039 18.5249 15.0069C19.1598 14.493 19.6904 13.8875 20.1168 13.1913C20.1679 13.1084 20.1874 13.0063 20.2261 12.9012V12.9012ZM21.1592 8.8904C21.1324 7.02006 20.0078 4.54304 17.6837 3.14555C15.1217 1.60435 11.7379 1.75035 9.31565 3.76271C7.71667 5.0915 6.85004 6.80743 6.67486 8.8904H21.1592Z" fill="#F07C00" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M23.9567 5.25598C24.0227 5.19855 24.0615 5.17398 24.0883 5.13975C24.4151 4.72663 24.7693 4.3438 25.227 4.06946C25.6259 3.83053 26.0591 3.69646 26.5175 3.63801C26.623 3.62431 26.7293 3.61986 26.8354 3.60951C26.9141 3.60181 26.9478 3.63151 26.9475 3.71451C26.9454 4.2171 26.9454 4.71997 26.9482 5.22258C26.9487 5.31053 26.9033 5.31894 26.8322 5.32788C26.4044 5.37988 25.9852 5.46642 25.5844 5.63671C24.9886 5.89038 24.5781 6.31597 24.3519 6.92261C24.1826 7.37639 24.0949 7.84725 24.0924 8.32851C24.0795 10.9793 24.0746 13.63 24.0671 16.2808C24.0667 16.4844 24.0671 16.4844 23.8662 16.4844C23.4567 16.4844 23.0473 16.4844 22.6381 16.4844C22.4587 16.4844 22.4585 16.4842 22.4585 16.3099C22.4583 15.6648 22.4583 15.0195 22.4583 14.3747C22.4583 10.9088 22.4583 7.44327 22.4583 3.97773C22.4583 3.79355 22.4585 3.79334 22.6392 3.79334C23.0308 3.79334 23.4223 3.7966 23.8134 3.79126C23.9229 3.79011 23.9606 3.82302 23.9587 3.93551C23.9529 4.31343 23.9566 4.69161 23.9566 5.06984C23.9566 5.11717 23.9566 5.16453 23.9566 5.25591L23.9567 5.25598Z" fill="#28549E" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M14.0209 6.94691C14.0184 6.89757 14.0144 6.85841 14.0144 6.81901C14.0142 5.538 14.0154 4.25675 14.0117 2.97597C14.0113 2.8474 14.0367 2.7981 14.1797 2.804C15.7061 2.86524 17.0901 3.32325 18.299 4.27063C19.1353 4.92609 19.7567 5.74169 20.1201 6.7474C20.2973 7.23657 20.3731 7.74314 20.4077 8.25886C20.4145 8.36124 20.3847 8.39864 20.2749 8.39864C18.767 8.39702 17.2589 8.39864 15.7512 8.40259C15.6572 8.40283 15.626 8.37911 15.6124 8.28017C15.5197 7.61032 14.964 7.08294 14.2588 6.9831C14.1839 6.97245 14.1096 6.96029 14.0209 6.94691Z" fill="#F07C00" fill-rule="evenodd" />
                        <path clip-rule="evenodd" d="M9.85859 8.40661C9.11589 8.40642 8.37288 8.40367 7.6299 8.4091C7.50131 8.4098 7.46091 8.37122 7.46486 8.24263C7.50054 7.11469 7.88268 6.11598 8.58803 5.2412C9.67894 3.88878 11.1213 3.15818 12.8154 2.88881C13.1081 2.8427 13.4072 2.83582 13.7027 2.80526C13.8154 2.79392 13.8479 2.83681 13.8471 2.94585C13.8433 3.5463 13.8459 4.14682 13.8459 4.74701C13.8461 5.43203 13.8445 6.11727 13.8482 6.80197C13.8487 6.90756 13.8292 6.95492 13.7092 6.96946C13.2274 7.02747 12.8155 7.2245 12.5152 7.62006C12.3809 7.79675 12.2954 7.99399 12.2619 8.21413C12.2254 8.45121 12.2415 8.40485 12.0336 8.40592C11.3087 8.40841 10.5837 8.40684 9.8587 8.40661H9.85859Z" fill="#F07C00" fill-rule="evenodd" />
                    </svg>
                </div>
            </template>

            <template #body>
                <PageHeading class="mb-6" emphasis="Jansevak" title="Welcome to">
                    <template #subtitle>
                        Enter your Phone Number to get started. We will send you a verification code.
                    </template>
                </PageHeading>

                <AppComponentBase>
                    <div class="flex flex-col gap-2">
                        <label class="relative">
                            <input v-maska class="py-3 px-4 pl-12 block w-full border-gray-200/[0.7] rounded-lg text-sm focus:z-10 focus:border-orange-500 focus:ring-orange-500" data-maska="##########" placeholder="Enter your phone number" type="text">
                            <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none z-20 pl-3.5">
                                <svg fill="none" height="22" viewBox="0 0 22 22" width="22" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.56262 18.7347H2.83598C1.64942 18.7347 0.6875 17.7727 0.6875 16.5862V5.4141C0.6875 4.22754 1.64942 3.26562 2.83598 3.26562H7.56262V18.7347Z" fill="#FF9E1C" />
                                    <path d="M14.4377 3.26562H7.56262V18.7347H14.4377V3.26562Z" fill="white" />
                                    <path d="M19.1644 18.7347H14.4377V3.26562H19.1644C20.351 3.26562 21.3129 4.22754 21.3129 5.4141V16.5862C21.3129 17.7727 20.351 18.7347 19.1644 18.7347Z" fill="#6DA544" />
                                    <path d="M11.0002 8.422C9.57629 8.422 8.422 9.57629 8.422 11.0002C8.422 12.424 9.57629 13.5783 11.0002 13.5783C12.424 13.5783 13.5783 12.424 13.5783 11.0002C13.5783 9.57629 12.424 8.422 11.0002 8.422ZM11.0002 12.7189C10.0509 12.7189 9.28139 11.9494 9.28139 11.0002C9.28139 10.0509 10.0509 9.28139 11.0002 9.28139C11.9494 9.28139 12.7189 10.0509 12.7189 11.0002C12.7189 11.9494 11.9494 12.7189 11.0002 12.7189Z" fill="#0053B5" />
                                    <path d="M11.0001 9.78479L11.2327 10.4387L11.8595 10.1407L11.5616 10.7676L12.2155 11.0001L11.5616 11.2327L11.8595 11.8595L11.2327 11.5616L11.0001 12.2155L10.7676 11.5616L10.1407 11.8595L10.4387 11.2327L9.78479 11.0001L10.4387 10.7676L10.1407 10.1407L10.7676 10.4387L11.0001 9.78479Z" fill="#0053B5" />
                                </svg>
                            </div>
                        </label>

                        <label v-if="loginMode === 'password'" class="relative">
                            <input class="py-3 px-4 pl-12 block w-full border-gray-200/[0.7] rounded-lg text-sm focus:z-10 focus:border-orange-500 focus:ring-orange-500" placeholder="Enter your password" type="password">
                            <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none z-20 pl-3.5 text-gray-600">
                                <svg fill="none" height="22" viewBox="0 0 22 22" width="22" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16.5003 19.2503H5.50005C3.98111 19.2503 2.75 18.0192 2.75 16.5003V9.1668C2.75 7.64785 3.98111 6.41675 5.50005 6.41675H16.5003C18.0192 6.41675 19.2503 7.64785 19.2503 9.1668V16.5003C19.2503 18.0192 18.0192 19.2503 16.5003 19.2503Z" fill="currentColor" opacity="0.35" />
                                    <path d="M7.33337 6.41673C7.33337 4.39177 8.97515 2.74999 11.0001 2.74999C13.0251 2.74999 14.6668 4.39177 14.6668 6.41673H16.5002C16.5002 3.37884 14.038 0.916626 11.0001 0.916626C7.96221 0.916626 5.5 3.37884 5.5 6.41673H7.33337Z" fill="currentColor" />
                                    <path d="M11.0001 11.0001C9.98718 11.0001 9.16675 11.8206 9.16675 12.8335C9.16675 13.8464 9.98718 14.6669 11.0001 14.6669C12.0131 14.6669 12.8335 13.8464 12.8335 12.8335C12.8335 11.8206 12.0131 11.0001 11.0001 11.0001Z" fill="currentColor" />
                                </svg>
                            </div>
                        </label>
                    </div>
                </AppComponentBase>

                <AppComponentBase class="mt-3.5">
                    <div class="flex flex-col gap-2">
                        <button class="py-3.5 px-4 w-full font-medium text-xs select-none inline-flex justify-center items-center gap-2 rounded-lg border border-transparent bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all" type="button" @click="handleLogin">
                            Login
                        </button>

                        <button v-if="loginMode === 'password'" class="py-2 px-4 w-full text-xs select-none inline-flex justify-center items-center rounded-lg border border-transparent text-gray-500 hover:bg-gray-200 active:bg-gray-300 focus:outline-none transition-all" type="button" @click="openForgotPasswordSheet">
                            Forgot Password?&nbsp;<span class="inline font-semibold text-gray-500">Reset Password</span>
                        </button>
                    </div>
                </AppComponentBase>

                <AppComponentBase class="my-3">
                    <div class="select-none w-full flex justify-evenly gap-3 items-center">
                        <div class="h-px w-full grow bg-gray-100"></div>
                        <span class="text-xs text-gray-500 leading-tight shrink-0">or</span>
                        <div class="h-px w-full grow bg-gray-100"></div>
                    </div>
                </AppComponentBase>

                <AppComponentBase>
                    <transition mode="out-in" name="fade">
                        <button class="py-3.5 px-4 w-full text-xs font-medium select-none inline-flex justify-center items-center gap-2 rounded-lg border border-transparent bg-gray-500 text-white hover:bg-gray-600 active:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all" type="button" @click="changeLoginMode">
                            Log in using {{ loginMode === "password" ? "OTP" : "Password" }}
                        </button>
                    </transition>
                </AppComponentBase>

                <AppComponentBase class="mt-8 flex flex-col justify-end grow">
                    <div class="px-4 text-gray-400 text-xxs text-center leading-tight">
                        By proceeding, you agree to our
                        <span class="font-semibold">Privacy Policy</span> and
                        <span class="font-semibold">Terms and Conditions</span>
                    </div>
                </AppComponentBase>

                <VerifyOTPModalPage ref="refVerifyOTPModal" @on-close="onCloseVerifyOTPModal" @on-verify="onVerifyOTP" />
                <ForgotPasswordSheet ref="refForgotPasswordSheet" @on-close="onCloseForgotPasswordSheet" />
            </template>
        </AppContainerBase>
    </ModalPage>
</template>

<script lang="ts" setup>
import { vMaska } from "maska";
import ModalPage from "@/components/modal-page/ModalPage.vue";
import AppContainerBase from "@/layouts/AppContainerBase.vue";
import PageHeading from "@/components/headings/PageHeading.vue";
import AppComponentBase from "@/layouts/AppComponentBase.vue";
import { ref } from "vue";
import VerifyOTPModalPage from "@/modals/auth/VerifyOTPModalPage.vue";
import ForgotPasswordSheet from "@/sheets/forgot-password/ForgotPasswordSheet.vue";
import { set } from "@vueuse/core";

const refModalPage = ref<InstanceType<typeof ModalPage>>(null);
const refVerifyOTPModal = ref<InstanceType<typeof VerifyOTPModalPage>>();

const refForgotPasswordSheet = ref<InstanceType<typeof ForgotPasswordSheet>>();

const loginMode = ref<"password" | "otp">("otp");

const openVerifyOTPModal = () => {
    refVerifyOTPModal.value?.openModal();
    refModalPage.value?.suspend();
};

const onCloseVerifyOTPModal = () => {
    refModalPage.value?.resume();
};

const onVerifyOTP = () => {
    emit("on-login-success");
};

const openForgotPasswordSheet = () => {
    refForgotPasswordSheet.value?.openModal();
    refModalPage.value?.suspend();
};

const onCloseForgotPasswordSheet = () => {
    refModalPage.value?.resume();
};

const openModal = () => {
    refModalPage.value?.openModal();
    (document.activeElement as HTMLElement)?.blur();
};

const closeModal = () => {
    refModalPage.value?.closeModal();
};

const goBack = () => {
    refModalPage.value?.goBack();
};

const handleLogin = () => {
    if (loginMode.value === "otp") {
        openVerifyOTPModal();
    } else {
        emit("on-login-success");
    }
};

const changeLoginMode = () => {
    loginMode.value = loginMode.value === "password" ? "otp" : "password";
};

const emit = defineEmits(["on-login-success"]);

defineExpose({
    loginMode,
    openModal,
    closeModal,
    goBack,
    suspend: () => refModalPage.value?.suspend(),
    resume: () => refModalPage.value?.resume(),
});
</script>

<style scoped>

</style>